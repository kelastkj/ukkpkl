<!DOCTYPE html>

<html lang="id">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Sistem Informasi PKL &amp; UKK Industri &mdash; TKJ SMKN 1 Telagasari</title>

  <meta name="description" content="Sistem Informasi PKL &amp; UKK Industri &mdash; informasi pembimbing laporan, penguji laporan, peserta PKL, dan kompetensi UKK Industri di TKJ SMKN 1 Telagasari."/>

  <meta name="keywords" content="PKL, UKK Industri, TKJ, SMKN 1 Telagasari, pembimbing, penguji, peserta, kompetensi"/>

  <link rel="icon" href="logo.png" />

  <!-- Open Graph / Social Sharing -->
  <link rel="canonical" href="https://pkl.kelastkj.online/" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="id_ID" />
  <meta property="og:site_name" content="SI PKL &amp; UKK Industri" />
  <meta property="og:url" content="https://pkl.kelastkj.online/" />
  <meta property="og:title" content="Sistem Informasi PKL &amp; UKK Industri — TKJ SMKN 1 Telagasari" />
  <meta property="og:description" content="Sistem Informasi PKL &amp; UKK Industri — informasi pembimbing laporan, penguji laporan, peserta PKL, dan kompetensi UKK Industri di TKJ SMKN 1 Telagasari." />
  <meta property="og:image" content="https://pkl.kelastkj.online/default-og-image.png" />
  <meta property="og:image:secure_url" content="https://pkl.kelastkj.online/default-og-image.png" />
  <meta property="og:image:alt" content="Gambar pratinjau situs SI PKL &amp; UKK Industri" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Sistem Informasi PKL &amp; UKK Industri — TKJ SMKN 1 Telagasari" />
  <meta name="twitter:description" content="Sistem Informasi PKL &amp; UKK Industri — informasi pembimbing laporan, penguji laporan, peserta PKL, dan kompetensi UKK Industri di TKJ SMKN 1 Telagasari." />
  <meta name="twitter:image" content="https://pkl.kelastkj.online/default-og-image.png" />
  <meta name="twitter:image:alt" content="Gambar pratinjau situs SI PKL &amp; UKK Industri" />

  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin />
  <link rel="preconnect" href="https://unpkg.com" crossorigin />
  <link rel="preload" as="image" href="logo.png" />
  <meta name="theme-color" content="#ffffff" />
  <script src="https://cdn.tailwindcss.com"></script>

  <script defer src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>

  <script defer src="config.js"></script>

  <!-- Leaflet Map CSS/JS for displaying Mitra locations -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "EducationalOrganization",
    "name": "TKJ SMKN 1 Telagasari",
    "department": {
      "@type": "Organization",
      "name": "Program Keahlian Teknik Komputer dan Jaringan"
    },
    "logo": "logo.png"
  }
  </script>

    <style>
    :root { color-scheme: light; }
  html { scroll-behavior: smooth; scrollbar-gutter: stable; }
    body { text-rendering: optimizeLegibility; }
    /* Catatan: Tailwind Play CDN tidak mendukung @apply. Utility Tailwind akan di-inline langsung. */
    section { scroll-margin-top: 80px; content-visibility: auto; contain-intrinsic-size: 600px; }
    @media (prefers-reduced-motion: reduce) { * { animation: none !important; transition: none !important; } }
    /* Dekorasi halus untuk header */
    .hero-decor::before, .hero-decor::after { content: ""; position: absolute; inset: 0; pointer-events: none; }
    .hero-decor::before { background:
      radial-gradient(40% 50% at 100% 0%, rgba(16,185,129,.26), transparent 60%),
      radial-gradient(35% 45% at 0% 100%, rgba(14,165,233,.26), transparent 60%);
    }
    .hero-decor::after { background:
      radial-gradient(20% 20% at 60% 10%, rgba(20,184,166,.22), transparent 60%);
    }
    /* Reduce flicker by promoting hero to its own compositing layer and disabling backface flicker */
    .hero-decor { -webkit-transform: translateZ(0); transform: translateZ(0); -webkit-backface-visibility: hidden; backface-visibility: hidden; will-change: transform, opacity; }
      .bg-grid { background-image:
      linear-gradient(to right, rgba(15,23,42,.04) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(15,23,42,.04) 1px, transparent 1px);
      background-size: 24px 24px;
    }
    /* Animated hamburger <-> close crossfade */
    .burger-svg { width: 22px; height: 22px; display: block; }
    .burger-hamburger, .burger-close {
      position: absolute; left: 50%; top: 50%; display: inline-block; width: 22px; height: 22px;
      /* center with translate; scale applied together with translate to animate */
      transform: translate(-50%, -50%) scale(1);
    }
    .burger-hamburger { opacity: 1; transition: opacity .18s ease, transform .18s ease; }
    .burger-hamburger .burger-line { transition: transform .22s cubic-bezier(.4,0,.2,1), opacity .18s ease; transform-origin: center; }
    .burger-close { opacity: 0; transition: opacity .18s ease, transform .18s ease; transform: translate(-50%, -50%) scale(.9); }
    /* When open: hide hamburger (fade+scale), show close (fade+scale) — keep translate for centering */
    #burgerBtn.open .burger-hamburger { opacity: 0; transform: translate(-50%, -50%) scale(.85); }
    #burgerBtn.open .burger-close { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    /* Slight color emphasis for close line */
    .burger-close .close-line { stroke: currentColor; stroke-width: 2.2; stroke-linecap: round; }
    @keyframes fadeUp { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    .animate-fade-up { animation: fadeUp .5s ease-out both; }  
  /* Stabilize sticky navbar to avoid jitter on scroll */
  nav[aria-label="Navigasi utama"] { -webkit-transform: translateZ(0); transform: translateZ(0); will-change: transform; backface-visibility: hidden; }

    /* Slideshow Styles */
    .slideshow-container {
      position: relative;
      max-width: 100%;
      margin: auto;
      overflow: hidden;
      border-radius: 12px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      display: flex;
      gap: 8px;
    }
    .slide {
      flex: 1;
      display: none;
      animation: fadeIn 1s ease-in-out;
    }
    .slide.active {
      display: flex;
      gap: 8px;
    }
    .slide img {
      width: 100%;
      height: 300px;
      object-fit: cover;
      border-radius: 8px;
    }
    @media (max-width: 767px) {
      .slide {
        flex-direction: column;
      }
      .slide img {
        height: 150px;
      }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .slideshow-dots {
      text-align: center;
      padding: 8px;
    }
    .dot {
      height: 10px;
      width: 10px;
      margin: 0 3px;
      background-color: rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      display: inline-block;
      transition: background-color 0.6s ease;
      cursor: pointer;
    }
    .dot.active {
      background-color: #0ea5e9;
    }

    /* Mobile Slideshow */
    .slideshow-container-mobile {
      position: relative;
      max-width: 100%;
      margin: auto;
      overflow: hidden;
      border-radius: 12px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
    .slideshow-container-mobile img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: none;
    }
    @media (min-width: 480px) {
      .slideshow-container-mobile img {
        height: 260px;
      }
    }
    .slideshow-container-mobile img.active {
      display: block;
    }
    .slideshow-dots-mobile {
      text-align: center;
      padding: 10px;
    }

    /* Skeleton Loader */
    .skeleton {
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 8px;
    }
    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
  </style>

</head>

<body class="min-h-screen bg-gradient-to-br from-emerald-50 via-sky-50 to-teal-50 text-slate-800 antialiased selection:bg-emerald-200 selection:text-slate-900">

  <a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 bg-white text-slate-900 px-3 py-2 rounded-md shadow">Lewati ke konten</a>



  <!-- NAV -->

  <nav aria-label="Navigasi utama" class="sticky top-0 z-30 border-b bg-white/90 backdrop-blur">

    <div class="mx-auto max-w-6xl px-4">

      <div class="flex h-14 items-center justify-between">

        <a href="index.html" class="flex items-center gap-2 shrink-0">

          <img src="logo.png" alt="Logo TKJ SMKN 1 Telagasari" width="32" height="32" decoding="async" fetchpriority="high" class="h-8 w-8 rounded-lg" />

          <div class="leading-tight">

            <div class="font-bold tracking-tight">SI PKL & UKK Industri</div>

            <div class="text-[11px] text-slate-500">TKJ SMKN 1 Telagasari</div>

          </div>

        </a>

        <ul class="hidden md:flex items-center gap-1 text-sm">

          <li><a href="index.html" aria-current="page" title="Beranda" class="px-3 py-2 rounded-lg bg-emerald-600 text-white flex items-center gap-2"><i data-lucide="home" class="w-4 h-4"></i>Home</a></li>

          <li><a href="mitra.html" class="px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="building-2" class="w-4 h-4"></i>Mitra</a></li>

          <li><a href="pembimbing.html" class="px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="book-open" class="w-4 h-4"></i>Pembimbing</a></li>

          <li><a href="penguji.html" class="px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="user-check" class="w-4 h-4"></i>Penguji PKL</a></li>

          <li><a href="peserta.html" class="px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="users" class="w-4 h-4"></i>Peserta</a></li>

          <li><a href="ukk.html" class="px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="briefcase" class="w-4 h-4"></i>UKK Industri</a></li>

          <li><a id="navAuth" href="login.html" class="px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="log-in" class="w-4 h-4"></i><span id="navAuthText">Login</span></a></li>

        </ul>

        <button id="burgerBtn" aria-label="Buka menu navigasi" aria-controls="mobileMenu" aria-expanded="false" class="md:hidden relative inline-flex items-center justify-center h-11 w-11 rounded-lg border hover:bg-slate-100">
          <!-- Hamburger icon group -->
          <svg viewBox="0 0 24 24" class="burger-svg burger-hamburger" aria-hidden="true" focusable="false">
            <rect class="burger-line" x="3" y="6" width="18" height="2" rx="1" fill="currentColor" />
            <rect class="burger-line" x="3" y="11" width="18" height="2" rx="1" fill="currentColor" />
            <rect class="burger-line" x="3" y="16" width="18" height="2" rx="1" fill="currentColor" />
          </svg>
          <!-- Close icon group (cross) -->
          <svg viewBox="0 0 24 24" class="burger-svg burger-close" aria-hidden="true" focusable="false">
            <line class="close-line" x1="6" y1="6" x2="18" y2="18" stroke="currentColor" />
            <line class="close-line" x1="6" y1="18" x2="18" y2="6" stroke="currentColor" />
          </svg>
        </button>

      </div>

    </div>

    <div id="mobileMenu" class="md:hidden hidden border-t bg-white transition-all duration-300">

      <div class="mx-auto max-w-6xl px-4 py-2">

        <ul class="flex flex-col gap-1 text-sm">

          <li><a href="index.html" aria-current="page" class="block px-3 py-2 rounded-lg bg-emerald-600 text-white flex items-center gap-2"><i data-lucide="home" class="w-5 h-5"></i>Home</a></li>

          <li><a href="mitra.html" class="block px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="building-2" class="w-5 h-5"></i>Mitra</a></li>

          <li><a href="pembimbing.html" class="block px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="book-open" class="w-5 h-5"></i>Pembimbing</a></li>

          <li><a href="penguji.html" class="block px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="user-check" class="w-5 h-5"></i>Penguji PKL</a></li>

          <li><a href="peserta.html" class="block px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="users" class="w-5 h-5"></i>Peserta</a></li>

          <li><a href="ukk.html" class="block px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="briefcase" class="w-5 h-5"></i>UKK Industri</a></li>

          <li><a id="navAuthMobile" href="login.html" class="block px-3 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2"><i data-lucide="log-in" class="w-5 h-5"></i><span id="navAuthMobileText">Login</span></a></li>

        </ul>

      </div>

    </div>

  </nav>



  <!-- HEADER -->

  <header class="relative overflow-hidden hero-decor bg-grid bg-sky-50 border-b">

    <div class="mx-auto max-w-6xl px-3 sm:px-4 py-5 sm:py-9 md:py-12 text-center">

      <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-sky-800 animate-fade-up">

        Sistem Informasi PKL & UKK Industri

      </h1>

  <p class="text-slate-600 mt-2 sm:mt-4 md:mt-5 text-base sm:text-base md:text-lg max-w-3xl mx-auto animate-fade-up leading-relaxed font-medium">

        Platform terpadu untuk mendukung pelaksanaan <strong>Praktik Kerja Lapangan (PKL)</strong> dan <strong>UKK Industri</strong> di jurusan TKJ SMKN 1 Telagasari.

      </p>

      <!-- Slideshow Mobile -->
  <div class="md:hidden mt-3 sm:mt-5 slideshow-container-mobile">
        <div class="relative">
          <div class="skeleton"></div>
          <img src="slide/IMG-20240305-WA0034-scaled.jpg" alt="Kegiatan PKL siswa TKJ di industri mitra" class="active" loading="eager" fetchpriority="high" decoding="async" onload="this.previousElementSibling.style.display='none'">
        </div>
        <div class="relative">
          <div class="skeleton"></div>
          <img src="slide/IMG20240304133855-scaled.jpg" alt="Suasana kerja praktik dan pembelajaran di tempat PKL" loading="lazy" onload="this.previousElementSibling.style.display='none'">
        </div>
        <div class="relative">
          <div class="skeleton"></div>
          <img src="slide/IMG20240304134248-scaled.jpg" alt="Dokumentasi aktivitas PKL bidang jaringan komputer" loading="lazy" onload="this.previousElementSibling.style.display='none'">
        </div>
        <div class="relative">
          <div class="skeleton"></div>
          <img src="slide/IMG20240304141648-scaled.jpg" alt="Pendampingan dan monitoring oleh pembimbing industri" loading="lazy" onload="this.previousElementSibling.style.display='none'">
        </div>
        <div class="relative">
          <div class="skeleton"></div>
          <img src="slide/IMG_20240304_093505-scaled.jpg" alt="Instalasi perangkat dan troubleshooting jaringan" loading="lazy" onload="this.previousElementSibling.style.display='none'">
        </div>
        <div class="relative">
          <div class="skeleton"></div>
          <img src="slide/IMG_20240305_101422-scaled.jpg" alt="Presentasi dan pelaporan hasil kegiatan PKL" loading="lazy" onload="this.previousElementSibling.style.display='none'">
        </div>
        <div class="relative">
          <div class="skeleton"></div>
          <img src="slide/IMG_20240305_101453-scaled.jpg" alt="Kolaborasi tim saat pelaksanaan tugas di industri" loading="lazy" onload="this.previousElementSibling.style.display='none'">
        </div>
        <div class="relative">
          <div class="skeleton"></div>
          <img src="slide/IMG_20240305_122821-scaled.jpg" alt="Kunjungan dan evaluasi kegiatan PKL oleh sekolah" loading="lazy" onload="this.previousElementSibling.style.display='none'">
        </div>
      </div>
      <div class="md:hidden slideshow-dots-mobile">
        <span class="dot active" role="button" aria-label="Slide 1" tabindex="0" onclick="currentSlideMobile(1)" style="height: 8px; width: 8px; margin: 0 2px;"></span>
        <span class="dot" role="button" aria-label="Slide 2" tabindex="0" onclick="currentSlideMobile(2)" style="height: 8px; width: 8px; margin: 0 2px;"></span>
        <span class="dot" role="button" aria-label="Slide 3" tabindex="0" onclick="currentSlideMobile(3)" style="height: 8px; width: 8px; margin: 0 2px;"></span>
        <span class="dot" role="button" aria-label="Slide 4" tabindex="0" onclick="currentSlideMobile(4)" style="height: 8px; width: 8px; margin: 0 2px;"></span>
        <span class="dot" role="button" aria-label="Slide 5" tabindex="0" onclick="currentSlideMobile(5)" style="height: 8px; width: 8px; margin: 0 2px;"></span>
        <span class="dot" role="button" aria-label="Slide 6" tabindex="0" onclick="currentSlideMobile(6)" style="height: 8px; width: 8px; margin: 0 2px;"></span>
        <span class="dot" role="button" aria-label="Slide 7" tabindex="0" onclick="currentSlideMobile(7)" style="height: 8px; width: 8px; margin: 0 2px;"></span>
        <span class="dot" role="button" aria-label="Slide 8" tabindex="0" onclick="currentSlideMobile(8)" style="height: 8px; width: 8px; margin: 0 2px;"></span>
      </div>

      <!-- Slideshow Desktop -->
      <div class="hidden md:block mt-6 slideshow-container">
        <div class="slide active">
          <div class="relative">
            <div class="skeleton"></div>
            <img src="slide/IMG-20240305-WA0034-scaled.jpg" alt="Kegiatan PKL siswa TKJ di industri mitra" loading="lazy" onload="this.previousElementSibling.style.display='none'">
          </div>
          <div class="relative">
            <div class="skeleton"></div>
            <img src="slide/IMG20240304133855-scaled.jpg" alt="Suasana kerja praktik dan pembelajaran di tempat PKL" loading="lazy" onload="this.previousElementSibling.style.display='none'">
          </div>
        </div>
        <div class="slide">
          <div class="relative">
            <div class="skeleton"></div>
            <img src="slide/IMG20240304134248-scaled.jpg" alt="Dokumentasi aktivitas PKL bidang jaringan komputer" loading="lazy" onload="this.previousElementSibling.style.display='none'">
          </div>
          <div class="relative">
            <div class="skeleton"></div>
            <img src="slide/IMG20240304141648-scaled.jpg" alt="Pendampingan dan monitoring oleh pembimbing industri" loading="lazy" onload="this.previousElementSibling.style.display='none'">
          </div>
        </div>
        <div class="slide">
          <div class="relative">
            <div class="skeleton"></div>
            <img src="slide/IMG_20240304_093505-scaled.jpg" alt="Instalasi perangkat dan troubleshooting jaringan" loading="lazy" onload="this.previousElementSibling.style.display='none'">
          </div>
          <div class="relative">
            <div class="skeleton"></div>
            <img src="slide/IMG_20240305_101422-scaled.jpg" alt="Presentasi dan pelaporan hasil kegiatan PKL" loading="lazy" onload="this.previousElementSibling.style.display='none'">
          </div>
        </div>
        <div class="slide">
          <div class="relative">
            <div class="skeleton"></div>
            <img src="slide/IMG_20240305_101453-scaled.jpg" alt="Kolaborasi tim saat pelaksanaan tugas di industri" loading="lazy" onload="this.previousElementSibling.style.display='none'">
          </div>
          <div class="relative">
            <div class="skeleton"></div>
            <img src="slide/IMG_20240305_122821-scaled.jpg" alt="Kunjungan dan evaluasi kegiatan PKL oleh sekolah" loading="lazy" onload="this.previousElementSibling.style.display='none'">
          </div>
        </div>
      </div>
      <div class="hidden md:block slideshow-dots">
        <span class="dot active" role="button" aria-label="Slide 1" tabindex="0" onclick="currentSlide(1)"></span>
        <span class="dot" role="button" aria-label="Slide 2" tabindex="0" onclick="currentSlide(2)"></span>
        <span class="dot" role="button" aria-label="Slide 3" tabindex="0" onclick="currentSlide(3)"></span>
        <span class="dot" role="button" aria-label="Slide 4" tabindex="0" onclick="currentSlide(4)"></span>
      </div>

    </div>

  </header>

  <!-- Statistics Section (Below Slideshow) - Compact Promo Style -->
  <section class="mx-auto max-w-6xl px-3 sm:px-4 py-3 sm:py-4">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-3" id="statsContainer">
      <!-- Peserta Card -->
      <div class="rounded-lg bg-gradient-to-br from-emerald-50 to-emerald-100 border border-emerald-200 p-2.5 sm:p-4 shadow-sm hover:shadow-md transition-shadow relative stat-card" id="card-peserta">
        <div class="skeleton absolute inset-0 rounded-lg opacity-50"></div>
        <div class="flex items-center gap-2 sm:gap-3 relative z-10">
          <div class="h-8 sm:h-10 w-8 sm:w-10 rounded-lg bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center text-white flex-shrink-0">
            <i data-lucide="users" class="w-4 sm:w-5 h-4 sm:h-5"></i>
          </div>
          <div class="min-w-0">
            <p class="text-lg sm:text-2xl md:text-3xl font-bold text-emerald-700" id="stat-peserta" role="status" aria-live="polite" aria-atomic="true" aria-busy="true" aria-label="Peserta: memuat…"></p>
            <p class="text-[11px] sm:text-xs text-emerald-700 font-medium">Peserta</p>
          </div>
        </div>
      </div>

      <!-- Pembimbing Card -->
      <div class="rounded-lg bg-gradient-to-br from-sky-50 to-sky-100 border border-sky-200 p-2.5 sm:p-4 shadow-sm hover:shadow-md transition-shadow relative stat-card" id="card-pembimbing">
        <div class="skeleton absolute inset-0 rounded-lg opacity-50"></div>
        <div class="flex items-center gap-2 sm:gap-3 relative z-10">
          <div class="h-8 sm:h-10 w-8 sm:w-10 rounded-lg bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center text-white flex-shrink-0">
            <i data-lucide="book-open" class="w-4 sm:w-5 h-4 sm:h-5"></i>
          </div>
          <div class="min-w-0">
            <p class="text-lg sm:text-2xl md:text-3xl font-bold text-sky-700" id="stat-pembimbing" role="status" aria-live="polite" aria-atomic="true" aria-busy="true" aria-label="Pembimbing: memuat…"></p>
            <p class="text-[11px] sm:text-xs text-sky-700 font-medium">Pembimbing</p>
          </div>
        </div>
      </div>

      <!-- Penguji Card -->
      <div class="rounded-lg bg-gradient-to-br from-teal-50 to-teal-100 border border-teal-200 p-2.5 sm:p-4 shadow-sm hover:shadow-md transition-shadow relative stat-card" id="card-penguji">
        <div class="skeleton absolute inset-0 rounded-lg opacity-50"></div>
        <div class="flex items-center gap-2 sm:gap-3 relative z-10">
          <div class="h-8 sm:h-10 w-8 sm:w-10 rounded-lg bg-gradient-to-br from-teal-400 to-teal-600 flex items-center justify-center text-white flex-shrink-0">
            <i data-lucide="check-circle" class="w-4 sm:w-5 h-4 sm:h-5"></i>
          </div>
          <div class="min-w-0">
            <p class="text-lg sm:text-2xl md:text-3xl font-bold text-teal-700" id="stat-penguji" role="status" aria-live="polite" aria-atomic="true" aria-busy="true" aria-label="Penguji: memuat…"></p>
            <p class="text-[11px] sm:text-xs text-teal-700 font-medium">Penguji</p>
          </div>
        </div>
      </div>

      <!-- Mitra Card -->
      <div class="rounded-lg bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 p-2.5 sm:p-4 shadow-sm hover:shadow-md transition-shadow relative stat-card" id="card-mitra">
        <div class="skeleton absolute inset-0 rounded-lg opacity-50"></div>
        <div class="flex items-center gap-2 sm:gap-3 relative z-10">
          <div class="h-8 sm:h-10 w-8 sm:w-10 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white flex-shrink-0">
            <i data-lucide="briefcase" class="w-4 sm:w-5 h-4 sm:h-5"></i>
          </div>
          <div class="min-w-0">
            <p class="text-lg sm:text-2xl md:text-3xl font-bold text-orange-700" id="stat-mitra" role="status" aria-live="polite" aria-atomic="true" aria-busy="true" aria-label="Mitra: memuat…"></p>
            <p class="text-[11px] sm:text-xs text-orange-700 font-medium">Mitra</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- MAIN CONTENT -->

  <main id="main" class="mx-auto max-w-6xl px-3 sm:px-6 md:px-4 py-0 space-y-10">
    <!-- Peta Lokasi Mitra -->
    <section id="mitraMapSection" class="rounded-2xl bg-white border p-6 shadow-sm">
      <div class="flex items-center gap-2 mb-3">
        <i data-lucide="map-pin" class="w-5 h-5 text-emerald-700"></i>
        <h2 class="text-xl font-semibold text-emerald-800">Lokasi Mitra</h2>
      </div>
      <p class="text-slate-600 text-sm mb-4">Titik di peta menunjukkan lokasi mitra PKL/UKK yang terdaftar.</p>
      <div class="relative">
        <div class="skeleton absolute inset-0 rounded-lg"></div>
        <div id="mitraMap" class="h-72 sm:h-80 md:h-96 rounded-lg border"></div>
      </div>
      <p id="mitraMapEmpty" class="hidden mt-3 text-sm text-slate-600">Lokasi mitra belum tersedia.</p>
      <div class="mt-4">
        <a href="mitra.html" class="inline-flex items-center gap-2 text-emerald-700 hover:text-emerald-800 font-medium text-sm">
          <i data-lucide="list"></i>
          Lihat Direktori Mitra
        </a>
      </div>
    </section>
<!-- Pembimbing & Penguji -->

    <section class="grid md:grid-cols-2 gap-6">

      <div class="rounded-2xl bg-gradient-to-br from-emerald-100 to-emerald-200 border p-6 shadow-sm hover:shadow-md transition">

        <div class="mb-3 flex items-center gap-2 md:block">
          <div class="h-5 w-5 md:h-10 md:w-10 flex items-center justify-center rounded-xl md:bg-gradient-to-br md:from-emerald-400 md:to-emerald-500 text-emerald-700 md:text-white md:mb-3 flex-shrink-0"><i data-lucide="book-open" class="w-5 h-5 md:w-6 md:h-6"></i></div>
          <h3 class="text-lg font-semibold text-emerald-900 mb-0 md:mb-0">Peran Pembimbing (Laporan)</h3>
        </div>

        <p class="text-slate-700 leading-relaxed text-base">

          Pembimbing mendampingi siswa dalam <strong>penyusunan laporan PKL</strong> yang disajikan dalam bentuk <strong>presentasi</strong> PowerPoint atau Canva. Laporan berisi <em>judul, data diri, ringkasan pekerjaan, dokumentasi,</em> dan <em>refleksi hasil belajar</em>.

        </p>

      </div>



      <div class="rounded-2xl bg-gradient-to-br from-sky-100 to-sky-200 border p-6 shadow-sm hover:shadow-md transition">

        <div class="mb-3 flex items-center gap-2 md:block">
          <div class="h-5 w-5 md:h-10 md:w-10 flex items-center justify-center rounded-xl md:bg-gradient-to-br md:from-sky-400 md:to-sky-500 text-sky-700 md:text-white md:mb-3 flex-shrink-0"><i data-lucide="user-check" class="w-5 h-5 md:w-6 md:h-6"></i></div>
          <h3 class="text-lg font-semibold text-sky-900 mb-0 md:mb-0">Peran Penguji (Laporan)</h3>
        </div>

        <p class="text-slate-700 leading-relaxed text-base">

          Penguji menilai <strong>presentasi laporan PKL</strong> berdasarkan kemampuan menjelaskan pekerjaan, penggunaan teknologi, dan komunikasi profesional. Durasi ideal presentasi adalah <strong>5-7 menit</strong>.

        </p>

      </div>

    </section>

    <!-- Short PKL upload guidance (added per request) -->

    <section class="mt-6">

      <div class="rounded-2xl bg-white border p-6 shadow-sm">

        <h3 class="font-semibold text-lg text-emerald-800 mb-3">Panduan Singkat: Unggah Laporan PKL</h3>

        <p class="text-slate-700 leading-relaxed text-base mb-4">Setelah Anda berkonsultasi dan laporan akhir disetujui oleh pembimbing, silakan unggah laporan PKL ke sistem.</p>

        <ul class="list-disc ml-6 space-y-2 text-slate-700 leading-relaxed text-base">

          <li>Pastikan pembimbing telah menandatangani atau menyetujui laporan akhir.</li>

          <li>Konversi laporan ke PDF dan beri nama file: <code class="bg-slate-100 px-1 rounded">NISN_Nama_LaporanPKL.pdf</code>.</li>

          <li>Ukuran maksimum file: <strong>10 MB</strong>. Jika lebih besar, kompres gambar atau kurangi resolusi foto.</li>

          <li>Unggah melalui <strong>Dashboard › Upload Laporan PKL</strong> (menu Upload PKL di dashboard siswa).</li>

        </ul>

      </div>

    </section>



    <!-- UKK Industri -->

    <section class="rounded-2xl bg-gradient-to-br from-teal-100 to-teal-200 border p-6 shadow-sm hover:shadow-md transition">

      <div class="flex items-center gap-2 mb-4">

        <i data-lucide="briefcase" class="w-5 h-5 text-teal-700"></i>

        <h2 class="text-xl font-semibold text-teal-800">UKK Industri</h2>

      </div>

      <p class="text-slate-700 leading-relaxed text-base mb-4">
        <strong>Uji Kompetensi Keahlian (UKK)</strong> adalah asesmen akhir untuk membuktikan kompetensi siswa SMK di bidangnya. UKK wajib dilakukan berdasarkan undang-undang pendidikan dan menjadi syarat kelulusan serta penerbitan sertifikat kompetensi.
      </p>
      <p class="text-slate-700 leading-relaxed text-base mb-4">
        UKK dapat dilaksanakan dengan tiga cara: oleh industri, oleh SMK bekerja sama dengan Lembaga Sertifikasi Profesi (LSP), atau secara mandiri di sekolah. Tahun ini UKK dilaksanakan langsung di dunia industri bersamaan dengan kegiatan PKL, sehingga siswa diuji di lingkungan kerja nyata oleh tenaga ahli.
      </p>

      <p class="text-slate-700 leading-relaxed text-base mb-4">
        Siswa wajib mempelajari kompetensi yang diujikan oleh industri agar siap menghadapi dunia kerja. Daftar kompetensi tiap mitra dapat dilihat di halaman <a href="ukk.html" class="text-teal-700 font-semibold hover:underline">UKK Industri</a>.
      </p>

      <!-- Short inline guidance requested: students are assessed on agreed competencies, not only presentation -->

      <div class="mt-6 rounded-lg border-l-4 border-teal-600 bg-teal-50 p-5">

        <div class="font-semibold text-teal-800 mb-3">Panduan Singkat UKK</div>

        <p class="text-slate-700 leading-relaxed text-base mb-3">Penilaian UKK didasarkan pada kompetensi yang disepakati oleh sekolah dan mitra industri.</p>

        <ul class="list-disc ml-6 space-y-2 text-slate-700 leading-relaxed text-sm">

          <li>Pelajari daftar kompetensi untuk mitra tempat Anda magang</li>

          <li>Konfirmasikan ruang lingkup dan jadwal ujian dengan pembimbing industri</li>

          <li>Dokumentasikan pelaksanaan (minimal 5 foto) dan buat file PDF laporan singkat + foto</li>

          <li>Pastikan PDF berukuran ≤ 5 MB dan beri nama sesuai format (mis. NISN_Nama_UKK_Mitra.pdf)</li>

          <li>Unggah PDF melalui menu Upload Dokumentasi UKK di dashboard siswa</li>

        </ul>

      </div>

    </section>



    <!-- Panduan Laporan -->

    <section id="panduan" class="space-y-4">

      <h2 class="text-2xl font-semibold mb-4 flex items-center gap-2 text-emerald-800">

        <i data-lucide="presentation"></i> Panduan Laporan PKL

      </h2>

      <p class="text-slate-700 leading-relaxed text-base">Berikut adalah struktur presentasi yang direkomendasikan untuk laporan PKL Anda:</p>



      <div class="mt-6 grid md:grid-cols-2 xl:grid-cols-4 gap-4">

        <div class="rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 border p-5 shadow-sm hover:shadow-md transition">

          <div class="h-10 w-10 flex items-center justify-center rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-500 text-white mb-3"><i data-lucide="type"></i></div>

          <h4 class="font-semibold text-base mb-3">Slide 1 — Judul</h4>

          <ul class="text-sm text-slate-700 list-disc ml-5 space-y-1 leading-relaxed">

            <li>Judul laporan</li><li>Nama, NISN, kelas</li><li>Nama Mitra</li>

          </ul>

        </div>



        <div class="rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 border p-5 shadow-sm hover:shadow-md transition">

          <div class="h-10 w-10 flex items-center justify-center rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-500 text-white mb-3"><i data-lucide="user"></i></div>

          <h4 class="font-semibold text-base mb-3">Slide 2 — Data Diri</h4>

          <ul class="text-sm text-slate-700 list-disc ml-5 space-y-1 leading-relaxed">

            <li>Identitas siswa</li><li>Periode PKL</li><li>Alamat Mitra</li>

          </ul>

        </div>



        <div class="rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 border p-5 shadow-sm hover:shadow-md transition">

          <div class="h-10 w-10 flex items-center justify-center rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-500 text-white mb-3"><i data-lucide="wrench"></i></div>

          <h4 class="font-semibold text-base mb-3">Slide 3-5 — Ringkasan Pekerjaan</h4>

          <ul class="text-sm text-slate-700 list-disc ml-5 space-y-1 leading-relaxed">

            <li>Tugas utama</li><li>Alat/software</li><li>Hasil kerja</li>

          </ul>

        </div>



        <div class="rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 border p-5 shadow-sm hover:shadow-md transition">

          <div class="h-10 w-10 flex items-center justify-center rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-500 text-white mb-3"><i data-lucide="camera"></i></div>

          <h4 class="font-semibold text-base mb-3">Slide Tambahan — Dokumentasi</h4>

          <ul class="text-sm text-slate-700 list-disc ml-5 space-y-1 leading-relaxed">

            <li>Foto kegiatan</li><li>Refleksi pembelajaran</li><li>Ucapan terima kasih</li>

          </ul>

        </div>

      </div>

    </section>



    <!-- Tips Presentasi -->

    <section class="rounded-2xl border bg-gradient-to-r from-emerald-100 via-sky-100 to-teal-100 p-5 shadow-sm">

      <div class="flex items-start gap-3 mb-3">

        <i data-lucide="lightbulb" class="w-5 h-5 text-emerald-600 flex-shrink-0 mt-0.5"></i>

        <div class="flex-1">

          <h3 class="font-semibold text-sm text-slate-900 mb-2">Tips Presentasi yang Efektif</h3>

          <ul class="space-y-1.5 text-xs text-slate-700">

            <li class="flex gap-2"><span class="text-emerald-600 font-bold">•</span><span>Atur durasi presentasi antara 5-7 menit agar ringkas namun tetap komprehensif.</span></li>

            <li class="flex gap-2"><span class="text-sky-600 font-bold">•</span><span>Gunakan visual dan poin singkat yang mudah dipahami oleh audiens.</span></li>

            <li class="flex gap-2"><span class="text-teal-600 font-bold">•</span><span>Pilih warna yang konsisten dan latar belakang bersih untuk kesan profesional.</span></li>

            <li class="flex gap-2"><span class="text-emerald-600 font-bold">•</span><span>Berlatih berbicara dengan percaya diri dan artikulasi yang jelas di depan cermin atau teman.</span></li>

          </ul>

        </div>

      </div>

    </section>

    <!-- Timeline Section -->
    <section class="space-y-4">
      <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2 text-emerald-800">
        <i data-lucide="calendar" class="w-5 h-5"></i> Jadwal Pelaksanaan Tahun Ajaran 2025/2026
      </h2>
      
      <div class="grid md:grid-cols-2 gap-4">
        <!-- PKL -->
        <div class="rounded-lg bg-gradient-to-br from-emerald-50 to-emerald-100 border border-emerald-200 p-5">
          <div class="flex items-center gap-3 mb-3">
            <div class="h-8 w-8 rounded-lg bg-emerald-500 flex items-center justify-center text-white">
              <i data-lucide="briefcase" class="w-4 h-4"></i>
            </div>
            <h3 class="font-semibold text-emerald-900 text-base">Praktik Kerja Lapangan</h3>
          </div>
          <p class="text-sm font-medium text-emerald-700 mb-2">21 Juli - 21 November 2025</p>
          <p class="text-xs text-slate-600 leading-relaxed">Pelaksanaan praktik kerja di industri mitra dengan bimbingan penuh dari pembimbing lapangan.</p>
        </div>

        <!-- UKK Industri -->
        <div class="rounded-lg bg-gradient-to-br from-teal-50 to-teal-100 border border-teal-200 p-5">
          <div class="flex items-center gap-3 mb-3">
            <div class="h-8 w-8 rounded-lg bg-teal-500 flex items-center justify-center text-white">
              <i data-lucide="check-circle" class="w-4 h-4"></i>
            </div>
            <h3 class="font-semibold text-teal-900 text-base">UKK Industri</h3>
          </div>
          <p class="text-sm font-medium text-teal-700 mb-2">Bersamaan dengan PKL</p>
          <p class="text-xs text-slate-600 leading-relaxed">Sesuai jadwal dan kompetensi yang ditetapkan oleh mitra industri masing-masing.</p>
        </div>

        <!-- Bimbingan -->
        <div class="rounded-lg bg-gradient-to-br from-sky-50 to-sky-100 border border-sky-200 p-5">
          <div class="flex items-center gap-3 mb-3">
            <div class="h-8 w-8 rounded-lg bg-sky-500 flex items-center justify-center text-white">
              <i data-lucide="book-open" class="w-4 h-4"></i>
            </div>
            <h3 class="font-semibold text-sky-900 text-base">Bimbingan Laporan</h3>
          </div>
          <p class="text-sm font-medium text-sky-700 mb-2">24 - 28 November 2025</p>
          <p class="text-xs text-slate-600 leading-relaxed">Konsultasi intensif dengan pembimbing di sekolah untuk penyempurnaan laporan.</p>
        </div>

        <!-- Presentasi -->
        <div class="rounded-lg bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 p-5">
          <div class="flex items-center gap-3 mb-3">
            <div class="h-8 w-8 rounded-lg bg-orange-500 flex items-center justify-center text-white">
              <i data-lucide="presentation" class="w-4 h-4"></i>
            </div>
            <h3 class="font-semibold text-orange-900 text-base">Presentasi Laporan</h3>
          </div>
          <p class="text-sm font-medium text-orange-700 mb-2">1 - 5 Desember 2025</p>
          <p class="text-xs text-slate-600 leading-relaxed">Durasi presentasi 5-7 menit per siswa di hadapan dewan penguji.</p>
        </div>
      </div>
    </section>

    <!-- Contact & Support Section -->
    <section class="grid md:grid-cols-2 gap-6">
      <!-- WhatsApp Support -->
      <div class="rounded-2xl bg-gradient-to-br from-green-100 to-green-50 border p-6 shadow-sm hover:shadow-md transition">
        <div class="flex items-start gap-3 mb-4">
          <i data-lucide="message-circle" class="w-5 h-5 text-green-600 mt-1 flex-shrink-0"></i>
          <div>
            <h3 class="font-semibold text-green-900 text-base">Hubungi via WhatsApp</h3>
            <p class="text-slate-700 text-sm leading-relaxed mt-2">Tanya jawab teknis, pertanyaan, atau keluhan dengan admin sistem</p>
          </div>
        </div>
        <a href="https://wa.me/6285167436497?text=Halo%2C%20saya%20ingin%20bertanya%20tentang%20sistem%20PKL%20dan%20UKK%20Industri" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition">
          <i data-lucide="send" class="w-4 h-4"></i> Chat WhatsApp
        </a>
      </div>

      <!-- FAQ Link -->
      <div class="rounded-2xl bg-gradient-to-br from-blue-100 to-blue-50 border p-6 shadow-sm hover:shadow-md transition">
        <div class="flex items-start gap-3 mb-4">
          <i data-lucide="help-circle" class="w-5 h-5 text-blue-600 mt-1 flex-shrink-0"></i>
          <div>
            <h3 class="font-semibold text-blue-900 text-base">Baca Panduan & FAQ</h3>
            <p class="text-slate-700 text-sm leading-relaxed mt-2">Jawaban lengkap pertanyaan umum dan panduan menggunakan sistem</p>
          </div>
        </div>
        <a href="#faq" class="inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition">
          <i data-lucide="book-open" class="w-4 h-4"></i> Lihat Panduan
        </a>
      </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="rounded-2xl bg-white border p-6 shadow-sm">
      <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2 text-emerald-800">
        <i data-lucide="help-circle"></i> Pertanyaan Umum (FAQ)
      </h2>
      <div class="space-y-4">
        <details class="border-b pb-5">
          <summary class="cursor-pointer font-medium text-slate-800 hover:text-emerald-600 text-base pb-2">Apa itu PKL?</summary>
          <p class="text-slate-700 leading-relaxed text-base">Praktik Kerja Lapangan (PKL) adalah kegiatan wajib bagi siswa SMK untuk mengaplikasikan teori yang dipelajari di sekolah ke dunia kerja nyata. Durasi PKL biasanya 3-6 bulan di perusahaan mitra dengan bimbingan penuh dari pembimbing lapangan.</p>
        </details>
        <details class="border-b pb-5">
          <summary class="cursor-pointer font-medium text-slate-800 hover:text-emerald-600 text-base pb-2">Bagaimana cara mengunggah laporan PKL?</summary>
          <p class="text-slate-700 leading-relaxed text-base">Setelah laporan disetujui pembimbing, konversi ke PDF dengan nama file NISN_Nama_LaporanPKL.pdf, pastikan ukuran ≤10 MB, lalu unggah melalui Dashboard > Upload Laporan PKL. Ikuti panduan singkat yang telah disediakan di halaman ini untuk memastikan format yang benar.</p>
        </details>
        <details class="border-b pb-5">
          <summary class="cursor-pointer font-medium text-slate-800 hover:text-emerald-600 text-base pb-2">Apa perbedaan PKL dan UKK Industri?</summary>
          <p class="text-slate-700 leading-relaxed text-base">PKL fokus pada pengalaman kerja praktis dan mendapatkan keterampilan nyata di lapangan, sedangkan UKK Industri adalah uji kompetensi akhir yang dilakukan di dunia industri untuk mendapatkan sertifikat kompetensi resmi yang diakui secara nasional.</p>
        </details>
        <details class="border-b pb-5">
          <summary class="cursor-pointer font-medium text-slate-800 hover:text-emerald-600 text-base pb-2">Siapa yang bisa mengakses sistem ini?</summary>
          <p class="text-slate-700 leading-relaxed text-base">Sistem ini dapat diakses oleh siswa, pembimbing lapangan, penguji, dan admin sekolah untuk mengelola dokumen PKL, UKK, dan komunikasi terkait proses pelaksanaan program.</p>
        </details>
        <details>
          <summary class="cursor-pointer font-medium text-slate-800 hover:text-emerald-600 text-base pb-2">Bagaimana jika lupa password?</summary>
          <p class="text-slate-700 leading-relaxed text-base">Hubungi admin sekolah atau pembimbing untuk reset password melalui email resmi sekolah atau kontak langsung yang telah diberikan di awal tahun ajaran.</p>
        </details>
      </div>
    </section>

  </main>



  <!-- FOOTER -->

  <footer class="border-t bg-white mt-10">

    <div class="mx-auto max-w-6xl px-4 py-8 text-xs text-slate-500 flex flex-wrap items-center justify-between gap-3">

      <div>&copy; <span id="year"></span> Sistem Informasi PKL &amp; UKK Industri &mdash; TKJ SMKN 1 Telagasari</div>

        <div class="flex gap-3">

  <a href="index.html" class="hover:underline">Home</a>

  <a href="mitra.html" class="hover:underline">Mitra</a>

  <a href="pembimbing.html" class="hover:underline">Pembimbing</a>

        <a href="penguji.html" class="hover:underline">Penguji PKL</a>

        <a href="peserta.html" class="hover:underline">Peserta</a>

        <a href="ukk.html" class="hover:underline">UKK Industri</a>

      </div>

    </div>

  </footer>



  <script>

    (function(){
      const initIcons = () => { if (window.lucide && typeof window.lucide.createIcons === "function") window.lucide.createIcons(); };
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initIcons, { once: true });
      } else {
        initIcons();
      }
    })();
    // BASE_URL tersedia di window.APP_CONFIG jika diperlukan di masa depan

    (function setupBurger(){
      const burgerBtn = document.getElementById('burgerBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      if(!burgerBtn || !mobileMenu) return;

      // ensure ARIA wiring
      burgerBtn.setAttribute('aria-controls', 'mobileMenu');
      burgerBtn.setAttribute('aria-expanded', 'false');

      const open = () => {
        mobileMenu.classList.remove('hidden');
        burgerBtn.classList.add('open');
        burgerBtn.setAttribute('aria-expanded','true');
        // prevent background scroll when menu open on small screens
        document.body.classList.add('overflow-hidden');
      };

      const close = () => {
        mobileMenu.classList.add('hidden');
        burgerBtn.classList.remove('open');
        burgerBtn.setAttribute('aria-expanded','false');
        document.body.classList.remove('overflow-hidden');
      };

      burgerBtn.addEventListener('click', (e) => { e.stopPropagation(); if(mobileMenu.classList.contains('hidden')) open(); else close(); });

      // Close when clicking outside the menu or button
      document.addEventListener('click', (ev) => {
        if(mobileMenu.classList.contains('hidden')) return;
        if(burgerBtn.contains(ev.target) || mobileMenu.contains(ev.target)) return;
        close();
      });

      // Close on Escape
      document.addEventListener('keydown', (ev) => { if(ev.key === 'Escape') close(); });

      // Close menu when clicking on a link
      const links = mobileMenu.querySelectorAll('a');
      links.forEach(link => {
        link.addEventListener('click', close);
      });
    })();

    document.getElementById('year').textContent=new Date().getFullYear();



    // Toggle Login/Dashboard menu based on auth status (update icon + label)

    (function(){

      const navAuth = document.getElementById('navAuth');

      const navAuthMobile = document.getElementById('navAuthMobile');

      const navAuthText = document.getElementById('navAuthText');

      const navAuthMobileText = document.getElementById('navAuthMobileText');

      const token = localStorage.getItem('auth_token');
      function makeDashboard(el, textEl){

        if(!el) return;

        const iconClass = el.id.includes('Mobile') ? 'w-5 h-5' : 'w-4 h-4';

        el.innerHTML = '<i data-lucide="layout-dashboard" class="' + iconClass + '"></i><span id="' + textEl.id + '">Dashboard</span>';

        el.href = 'dashboard.html';

        if(window.lucide && typeof window.lucide.createIcons === 'function') lucide.createIcons();

      }

      if(token){

        makeDashboard(navAuth, navAuthText);

        makeDashboard(navAuthMobile, navAuthMobileText);

      }

    })();

    // Slideshow functionality
    let slideIndex = 1;
    showSlides(slideIndex);

    function plusSlides(n) {
      showSlides(slideIndex += n);
    }

    function currentSlide(n) {
      showSlides(slideIndex = n);
    }

    function showSlides(n) {
      let i;
      let slides = document.getElementsByClassName("slide");
      if (n > slides.length) {slideIndex = 1}
      if (n < 1) {slideIndex = slides.length}
      for (i = 0; i < slides.length; i++) {
        slides[i].classList.remove("active");
      }
      let desktopDots = document.querySelectorAll('.slideshow-dots .dot');
      for (i = 0; i < desktopDots.length; i++) {
        desktopDots[i].className = desktopDots[i].className.replace(" active", "");
      }
      slides[slideIndex-1].classList.add("active");
      desktopDots[slideIndex-1].className += " active";
    }

    // Auto slideshow desktop
    setInterval(function() {
      plusSlides(1);
    }, 4000); // Change slide every 4 seconds

    // Mobile Slideshow functionality
    let slideIndexMobile = 1;
    showSlidesMobile(slideIndexMobile);

    function plusSlidesMobile(n) {
      showSlidesMobile(slideIndexMobile += n);
    }

    function currentSlideMobile(n) {
      showSlidesMobile(slideIndexMobile = n);
    }

    function showSlidesMobile(n) {
      let i;
      const mobileContainer = document.getElementsByClassName("slideshow-container-mobile")[0];
      if (!mobileContainer) return;
      const slides = mobileContainer.getElementsByTagName("img");
      if (n > slides.length) {slideIndexMobile = 1}
      if (n < 1) {slideIndexMobile = slides.length}
      for (i = 0; i < slides.length; i++) {
        slides[i].classList.remove("active");
      }
      slides[slideIndexMobile-1].classList.add("active");
      // Update only mobile dots
      const mobileDots = document.querySelectorAll('.slideshow-dots-mobile .dot');
      for (i = 0; i < mobileDots.length; i++) {
        mobileDots[i].className = mobileDots[i].className.replace(" active", "");
      }
      if (mobileDots[slideIndexMobile-1]) {
        mobileDots[slideIndexMobile-1].className += " active";
      }
    }

    // Keyboard support for dots (accessibility)
    (function enhanceDotsA11y(){
      // Desktop dots
      const desktopDots = document.querySelectorAll('.slideshow-dots .dot');
      desktopDots.forEach((dot, idx) => {
        dot.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            currentSlide(idx + 1);
          }
        });
      });
      // Mobile dots
      const mobileDots = document.querySelectorAll('.slideshow-dots-mobile .dot');
      mobileDots.forEach((dot, idx) => {
        dot.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            currentSlideMobile(idx + 1);
          }
        });
      });
    })();

    // Auto slideshow mobile
    setInterval(function() {
      plusSlidesMobile(1);
    }, 4000);

    // ===== LOAD STATISTICS =====
    (function loadStatistics() {
      // Wait for APP_CONFIG to be available (config.js is deferred)
      function waitForConfig(callback, maxAttempts = 50) {
        let attempts = 0;
        const interval = setInterval(() => {
          attempts++;
          if (window.APP_CONFIG && window.APP_CONFIG.BASE_URL) {
            clearInterval(interval);
            callback(window.APP_CONFIG.BASE_URL);
          } else if (attempts >= maxAttempts) {
            clearInterval(interval);
            callback(null);
          }
        }, 100);
      }

      waitForConfig((baseUrl) => {
        if (!baseUrl) {
          return;
        }

        // Helper function untuk fetch dengan no-cache
        async function fetchData(url) {
          try {
            const response = await fetch(url, { cache: 'no-store' });
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            return await response.json();
          } catch (error) {
            throw error;
          }
        }

        // Helper function to remove skeleton and show content
        function showStatistic(elementId, value) {
          const numberEl = document.getElementById(elementId);
          if (numberEl) {
            numberEl.textContent = value;
            numberEl.setAttribute('aria-busy', 'false');
            const labels = { 'stat-peserta': 'Peserta', 'stat-pembimbing': 'Pembimbing', 'stat-penguji': 'Penguji', 'stat-mitra': 'Mitra' };
            const label = labels[elementId] || 'Statistik';
            numberEl.setAttribute('aria-label', label + ': ' + value);
            const card = numberEl.closest('.stat-card');
            if (card) {
              const skeleton = card.querySelector('.skeleton');
              if (skeleton) {
                skeleton.style.display = 'none';
              }
            }
          }
        }

        // Fetch pembimbing count
        fetchData(baseUrl + '?dataset=pembimbing&route=meta')
          .then(d => {
            if (d.ok && d.meta && d.meta.pembimbing) {
              const count = d.meta.pembimbing.length;
              showStatistic('stat-pembimbing', count);
            }
          })
          .catch(e => {});

        // Fetch penguji count
        fetchData(baseUrl + '?dataset=penguji&route=meta')
          .then(d => {
            if (d.ok && d.meta && d.meta.penguji) {
              const count = d.meta.penguji.length;
              showStatistic('stat-penguji', count);
            }
          })
          .catch(e => {});

        // Fetch mitra count (read from Sheet MITRA via dataset=mitra routes)
        // Primary: dataset=mitra&route=list to get accurate count from MITRA sheet
        fetchData(baseUrl + '?dataset=mitra&route=list&limit=1')
          .then(d => {
            // Support both {count} or {pagination: { total }} shapes
            const count = (typeof d.count === 'number') ? d.count : (d.pagination && typeof d.pagination.total === 'number' ? d.pagination.total : null);
            if (d.ok && count !== null) {
              showStatistic('stat-mitra', count);
            } else {
              throw new Error('Unexpected MITRA list response');
            }
          })
          .catch(() => {
            // Fallback: legacy from UKK meta if MITRA endpoint unavailable (backward compatibility)
            fetchData(baseUrl + '?dataset=ukk&route=meta')
              .then(d => {
                if (d.ok && d.meta && d.meta.mitra) {
                  const count = d.meta.mitra.length;
                  showStatistic('stat-mitra', count);
                }
              })
              .catch(() => {
                // Last resort: show dash and remove skeleton
                showStatistic('stat-mitra', '—');
              });
          });

        // Fetch peserta count - aggregate all peserta
        fetchData(baseUrl + '?dataset=peserta&route=meta')
          .then(d => {
            if (d.ok && d.meta && d.meta.mitra && Array.isArray(d.meta.mitra)) {
              let totalPeserta = 0;
              let completed = 0;
              const mitraCount = d.meta.mitra.length;
              
              d.meta.mitra.forEach((m, idx) => {
                fetchData(baseUrl + '?dataset=peserta&mitra=' + encodeURIComponent(m))
                  .then(data => {
                    if (data.ok && data.count) {
                      totalPeserta += data.count;
                    }
                    completed++;
                    if (completed === mitraCount) {
                      showStatistic('stat-peserta', totalPeserta);
                    }
                  })
                  .catch(e => {
                    completed++;
                    if (completed === mitraCount) {
                      showStatistic('stat-peserta', totalPeserta);
                    }
                  });
              });
            }
          })
          .catch(e => {});
      });
    })();

    // ===== LOKASI MITRA MAP =====
    (function initIndexMitraMap(){
      const section = document.getElementById('mitraMapSection');
      const mapEl = document.getElementById('mitraMap');
      if(!section || !mapEl) return;

      function waitForDeps(cb, maxAttempts = 60){
        let attempts = 0;
        const t = setInterval(() => {
          attempts++;
          if (window.APP_CONFIG && window.APP_CONFIG.BASE_URL && window.L && typeof window.L.map === 'function') {
            clearInterval(t);
            cb(window.APP_CONFIG.BASE_URL);
          } else if (attempts >= maxAttempts) {
            clearInterval(t);
            cb(null);
          }
        }, 100);
      }

      function parseCoord(val){
        if (typeof val === 'number') return val;
        if (typeof val !== 'string') return null;
        let s = val.trim();
        // Replace comma as decimal if no dot present, remove thousand separators
        if (s.indexOf(',') >= 0 && s.indexOf('.') < 0) {
          s = s.replace(/,/g, '.');
        }
        // Remove all except digits, minus, dot
        s = s.replace(/[^0-9\-\.]/g, '');
        // If multiple dots, keep first
        const parts = s.split('.');
        if (parts.length > 2) {
          s = parts.shift() + '.' + parts.join('');
        }
        const n = parseFloat(s);
        return isNaN(n) ? null : n;
      }

      function fixLatLng(lat, lng){
        let la = parseCoord(lat);
        let ln = parseCoord(lng);
        if (la == null || ln == null) return { lat: null, lng: null };
        const inLat = (x) => x >= -90 && x <= 90;
        const inLng = (x) => x >= -180 && x <= 180;
        if (!inLat(la) && inLat(ln) && inLng(la)) {
          // swapped
          [la, ln] = [ln, la];
        }
        if (!inLat(la) || !inLng(ln)) return { lat: null, lng: null };
        return { lat: la, lng: ln };
      }

      async function fetchJson(url){
        const res = await fetch(url, { cache: 'no-store' });
        if(!res.ok) throw new Error('HTTP ' + res.status);
        return await res.json();
      }

      async function fetchAllMitra(baseUrl){
        const limit = 500;
        const first = await fetchJson(baseUrl + '?dataset=mitra&route=list&limit=' + limit);
        let items = Array.isArray(first.items) ? first.items : (Array.isArray(first.data) ? first.data : []);
        const total = typeof first.count === 'number' ? first.count : (first.pagination && typeof first.pagination.total === 'number' ? first.pagination.total : items.length);
        const pages = Math.ceil(total / limit);
        if (pages <= 1) return items;
        const fetches = [];
        for (let p = 2; p <= pages && p <= 10; p++) { // hard cap to 10 pages (5000 rows)
          fetches.push(fetchJson(baseUrl + '?dataset=mitra&route=list&limit=' + limit + '&page=' + p));
        }
        const rest = await Promise.allSettled(fetches);
        for (const r of rest) {
          if (r.status === 'fulfilled') {
            const arr = Array.isArray(r.value.items) ? r.value.items : (Array.isArray(r.value.data) ? r.value.data : []);
            items = items.concat(arr);
          }
        }
        return items;
      }

      function renderMap(baseUrl){
        const wrapper = mapEl.parentElement;
        const skeleton = wrapper ? wrapper.querySelector('.skeleton') : null;
        const emptyEl = document.getElementById('mitraMapEmpty');
        const map = L.map('mitraMap', { zoomControl: true, attributionControl: true });
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          maxZoom: 19,
          attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);

        fetchAllMitra(baseUrl).then(items => {
          const markers = [];
          items.forEach(it => {
            const { lat, lng } = fixLatLng(it.lat ?? it.latitude ?? it.lintang, it.lng ?? it.lon ?? it.long ?? it.longitude ?? it.bujur);
            if (lat == null || lng == null) return;
            const name = it.nama || it.name || 'Mitra';
            const bidang = it.bidang ? ('<br/><small>' + String(it.bidang) + '</small>') : '';
            const gmaps = `https://www.google.com/maps?q=${lat},${lng}`;
            const marker = L.marker([lat, lng]).bindPopup(`<strong>${name}</strong>${bidang}<br/><a href="${gmaps}" target="_blank" rel="noopener">Buka di Google Maps</a>`);
            marker.addTo(map);
            markers.push(marker);
          });

          if (markers.length > 0) {
            const group = L.featureGroup(markers);
            try { map.fitBounds(group.getBounds(), { padding: [20, 20] }); } catch(_) { map.setView([markers[0].getLatLng().lat, markers[0].getLatLng().lng], 13); }
            setTimeout(() => map.invalidateSize(), 200);
            if (skeleton) skeleton.style.display = 'none';
            if (emptyEl) emptyEl.classList.add('hidden');
          } else {
            map.setView([-2.5, 118], 5); // center Indonesia fallback
            if (skeleton) skeleton.style.display = 'none';
            if (emptyEl) emptyEl.classList.remove('hidden');
          }
        }).catch(() => {
          // On error, hide skeleton and show empty
          map.setView([-2.5, 118], 5);
          if (wrapper) {
            const sk = wrapper.querySelector('.skeleton');
            if (sk) sk.style.display = 'none';
          }
          if (emptyEl) emptyEl.classList.remove('hidden');
        });
      }

      waitForDeps((baseUrl) => {
        if (!baseUrl) {
          // deps not ready; show empty state
          const wrapper = mapEl.parentElement;
          const sk = wrapper ? wrapper.querySelector('.skeleton') : null;
          if (sk) sk.style.display = 'none';
          const emptyEl = document.getElementById('mitraMapEmpty');
          if (emptyEl) emptyEl.classList.remove('hidden');
          return;
        }
        renderMap(baseUrl);
      });
    })();

    // Swipe support for mobile slideshow
    let startX;
    const mobileContainer = document.querySelector('.slideshow-container-mobile');
    if (mobileContainer) {
      mobileContainer.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
      });
      mobileContainer.addEventListener('touchend', (e) => {
        if (!startX) return;
        const endX = e.changedTouches[0].clientX;
        const diffX = startX - endX;
        if (Math.abs(diffX) > 50) { // swipe threshold
          if (diffX > 0) {
            plusSlidesMobile(1); // swipe left, next slide
          } else {
            plusSlidesMobile(-1); // swipe right, prev slide
          }
        }
        startX = null;
      });
    }

  </script>

</body>

</html>














